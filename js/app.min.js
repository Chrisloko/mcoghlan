$(function(){for(var t=document.querySelectorAll(".youtube"),e=0;e<t.length;e++)t[e].addEventListener("click",function(){var t=document.createElement("iframe");t.setAttribute("frameborder","0"),t.setAttribute("width","87%"),t.setAttribute("allowfullscreen",""),t.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1"),this.innerHTML="",this.appendChild(t)})}),function(x){"use strict";var w,y,I,$,C,A,_,z,T,B,P,S,O,D,E,N,W,M,L,j,V,q,H,R,U,F,K,X,Y,Q,G,Z,J,tt,et,it,ot,at,st,nt,rt,lt,dt;x.fn.extend({venobox:function(t){var f=this,k=x.extend({arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"transparent",closeColor:"#d2d2d2",framewidth:"",frameheight:"",gallItems:!1,infinigall:!1,htmlClose:"&times;",htmlNext:"<span>Next</span>",htmlPrev:"<span>Prev</span>",numeratio:!1,numerationBackground:"#161617",numerationColor:"#d2d2d2",numerationPosition:"top",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"top",share:[],cb_pre_open:function(){return!0},cb_post_open:function(){},cb_pre_close:function(){return!0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_content_loaded:function(){},cb_init:function(){}},t);return k.cb_init(f),this.each(function(){if((Y=x(this)).data("venobox"))return!0;function e(){V=Y.data("gall"),W=Y.data("numeratio"),O=Y.data("gallItems"),D=Y.data("infinigall"),rt=Y.data("share"),$.html(""),"iframe"!==Y.data("vbtype")&&"inline"!==Y.data("vbtype")&&"ajax"!==Y.data("vbtype")&&(lt={pinterest:'<a target="_blank" href="https://pinterest.com/pin/create/button/?url='+Y.prop("href")+"&media="+Y.prop("href")+"&description="+j+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.347 2.317.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z" fill-rule="evenodd" clip-rule="evenodd"/></svg></a>',facebook:'<a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u='+Y.prop("href")+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"/></svg></a>',twitter:'<a target="_blank" href="https://twitter.com/intent/tweet?text='+j+"&url="+Y.prop("href")+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"/></svg></a>',linkedin:'<a target="_blank" href="https://www.linkedin.com/sharing/share-offsite/?url='+Y.prop("href")+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"/></svg></a>',download:'<a target="_blank" href="'+Y.prop("href")+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm2 9h-4v-1h4v1zm0-3v1h-4v-1h4zm-2 13l-6-6h4v-3h4v3h4l-6 6z"/></svg></a>'},x.each(rt,function(t,e){$.append(lt[e])})),(V=O||x('.vbox-item[data-gall="'+V+'"]')).length<2&&(W=D=!1),q=V.eq(V.index(Y)+1),H=V.eq(V.index(Y)-1),q.length||!0!==D||(q=V.eq(0)),1<=V.length?(Q=V.index(Y)+1,I.html(Q+" / "+V.length)):Q=1,!0===W?I.show():I.hide(),""!==j?C.show():C.hide(),R=q.length||!0===D?(x(".vbox-next").css("display","block"),!0):(x(".vbox-next").css("display","none"),!1),!0!==(U=0<V.index(Y)||!0===D?(x(".vbox-prev").css("display","block"),!0):(x(".vbox-prev").css("display","none"),!1))&&!0!==R||(z.on(d.DOWN,s),z.on(d.MOVE,n),z.on(d.UP,r))}function o(t){return!(t.length<1)&&!E&&(E=!0,M=t.data("overlay")||t.data("overlaycolor"),P=t.data("framewidth"),S=t.data("frameheight"),A=t.data("border"),y=t.data("bgcolor"),T=t.data("href")||t.attr("href"),w=t.data("autoplay"),j=t.data("titleattr")&&t.attr(t.data("titleattr"))||"",t===H&&z.addClass("vbox-animated").addClass("swipe-right"),t===q&&z.addClass("vbox-animated").addClass("swipe-left"),K.show(),void z.animate({opacity:0},500,function(){L.css("background",M),z.removeClass("vbox-animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0}),"iframe"==t.data("vbtype")?v():"inline"==t.data("vbtype")?u():"ajax"==t.data("vbtype")?h():"video"==t.data("vbtype")?b(w):(z.html('<img src="'+T+'">'),g()),Y=t,e(),E=!1,k.cb_after_nav(Y,Q,q,H)}))}function i(t){27===t.keyCode&&a(),37==t.keyCode&&!0===U&&o(H),39==t.keyCode&&!0===R&&o(q)}function a(){!1!==k.cb_pre_close(Y,Q,q,H)&&(x("body").off("keydown",i).removeClass("vbox-open"),Y.focus(),L.animate({opacity:0},500,function(){L.remove(),E=!1,k.cb_post_close()}))}f.VBclose=function(){a()},Y.addClass("vbox-item"),Y.data("framewidth",k.framewidth),Y.data("frameheight",k.frameheight),Y.data("border",k.border),Y.data("bgcolor",k.bgcolor),Y.data("numeratio",k.numeratio),Y.data("gallItems",k.gallItems),Y.data("infinigall",k.infinigall),Y.data("overlaycolor",k.overlayColor),Y.data("titleattr",k.titleattr),Y.data("share",k.share),Y.data("venobox",!0),Y.on("click",function(t){if(t.preventDefault(),Y=x(this),!1===k.cb_pre_open(Y))return!1;switch(Y.blur(),f.VBnext=function(){o(q)},f.VBprev=function(){o(H)},M=Y.data("overlay")||Y.data("overlaycolor"),P=Y.data("framewidth"),S=Y.data("frameheight"),w=Y.data("autoplay")||k.autoplay,A=Y.data("border"),y=Y.data("bgcolor"),E=U=R=!1,T=Y.data("href")||Y.attr("href"),B=Y.data("css")||"",j=Y.attr(Y.data("titleattr"))||"",rt=Y.data("share"),F='<div class="vbox-preloader">',k.spinner){case"rotating-plane":F+='<div class="sk-rotating-plane"></div>';break;case"double-bounce":F+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"></div><div class="sk-child sk-double-bounce2"></div></div>';break;case"wave":F+='<div class="sk-wave"><div class="sk-rect sk-rect1"></div><div class="sk-rect sk-rect2"></div><div class="sk-rect sk-rect3"></div><div class="sk-rect sk-rect4"></div><div class="sk-rect sk-rect5"></div></div>';break;case"wandering-cubes":F+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div></div>';break;case"spinner-pulse":F+='<div class="sk-spinner sk-spinner-pulse"></div>';break;case"chasing-dots":F+='<div class="sk-chasing-dots"><div class="sk-child sk-dot1"></div><div class="sk-child sk-dot2"></div></div>';break;case"three-bounce":F+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>';break;case"circle":F+='<div class="sk-circle"><div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div></div>';break;case"cube-grid":F+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>';break;case"fading-circle":F+='<div class="sk-fading-circle"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>';break;case"folding-cube":F+='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div>'}return F+="</div>",X='<a class="vbox-next">'+k.htmlNext+'</a><a class="vbox-prev">'+k.htmlPrev+"</a>",dt='<div class="vbox-title"></div><div class="vbox-left"><div class="vbox-num">0/0</div></div><div class="vbox-close">'+k.htmlClose+"</div>",dt='<div class="vbox-overlay '+B+'" style="background:'+M+'">'+F+'<div class="vbox-container"><div class="vbox-content"></div></div>'+dt+X+'<div class="vbox-share"></div></div>',x("body").append(dt).addClass("vbox-open"),x(".vbox-preloader div:not(.sk-circle) .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader div:not(.sk-folding-cube) .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",k.spinColor),L=x(".vbox-overlay"),_=x(".vbox-container"),z=x(".vbox-content"),X=x(".vbox-left"),I=x(".vbox-num"),$=x(".vbox-share"),C=x(".vbox-title"),(K=x(".vbox-preloader")).show(),dt="top"==k.titlePosition?"bottom":"top",$.css(dt,"-1px"),$.css({color:k.titleColor,fill:k.titleColor,"background-color":k.titleBackground}),C.css(k.titlePosition,"-1px"),C.css({color:k.titleColor,"background-color":k.titleBackground}),x(".vbox-close").css({color:k.closeColor,"background-color":k.closeBackground}),X.css(k.numerationPosition,"-1px"),X.css({color:k.numerationColor,"background-color":k.numerationBackground}),x(".vbox-next span, .vbox-prev span").css({"border-top-color":k.arrowsColor,"border-right-color":k.arrowsColor}),z.html(""),z.css("opacity","0"),L.css("opacity","0"),e(),L.animate({opacity:1},250,function(){"iframe"==Y.data("vbtype")?v():"inline"==Y.data("vbtype")?u():"ajax"==Y.data("vbtype")?h():"video"==Y.data("vbtype")?b(w):(z.html('<img src="'+T+'">'),g()),k.cb_post_open(Y,Q,q,H)}),x("body").keydown(i),x(".vbox-prev").on("click",function(){o(H)}),x(".vbox-next").on("click",function(){o(q)}),!1});var t=".vbox-overlay";function s(t){z.addClass("vbox-animated"),J=et=t.pageY,tt=it=t.pageX,G=!0}function n(t){var e;!0===G&&(it=t.pageX,et=t.pageY,at=it-tt,st=et-J,(e=Math.abs(at))>Math.abs(st)&&e<=100&&(t.preventDefault(),z.css("margin-left",at)))}function r(t){var e,i;!0===G&&(e=Y,i=G=!1,(ot=it-tt)<0&&!0===R&&(e=q,i=!0),0<ot&&!0===U&&(e=H,i=!0),Math.abs(ot)>=nt&&!0===i?o(e):z.css({"margin-left":0,"margin-right":0}))}k.overlayClose||(t=".vbox-close"),x("body").on("click touchstart",t,function(t){(x(t.target).is(".vbox-overlay")||x(t.target).is(".vbox-content")||x(t.target).is(".vbox-close")||x(t.target).is(".vbox-preloader")||x(t.target).is(".vbox-container"))&&a()}),ot=it=tt=0,G=!(nt=50);function l(t){var e;switch(t.type){case"mousedown":e=d.DOWN;break;case"mouseup":case"mouseout":e=d.UP;break;case"mousemove":e=d.MOVE;break;default:return}var i=c(e,t,t.pageX,t.pageY);x(t.target).trigger(i)}var d={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},t=function(t){var e;switch(t.type){case"touchstart":e=d.DOWN;break;case"touchend":e=d.UP;break;case"touchmove":e=d.MOVE;break;default:return}var i=t.originalEvent.touches[0],i=e==d.UP?c(e,t,null,null):c(e,t,i.pageX,i.pageY);x(t.target).trigger(i)},c=function(t,e,i,o){return x.Event(t,{pageX:i,pageY:o,originalEvent:e})};function h(){x.ajax({url:T,cache:!1}).done(function(t){z.html('<div class="vbox-inline">'+t+"</div>"),g()}).fail(function(){z.html('<div class="vbox-inline"><p>Error retrieving contents, please retry</div>'),p()})}function v(){z.html('<iframe class="venoframe" src="'+T+'"></iframe>'),p()}function b(t){var e,i,i=(T.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),-1<RegExp.$3.indexOf("youtu")?i="youtube":-1<RegExp.$3.indexOf("vimeo")&&(i="vimeo"),{type:i,id:RegExp.$6}),t=(t?"?rel=0&autoplay=1":"?rel=0")+function(){var t="",e=decodeURIComponent(T).split("?");if(void 0!==e[1])for(var i,o=e[1].split("&"),a=0;a<o.length;a++)t=t+"&"+(i=o[a].split("="))[0]+"="+i[1];return encodeURI(t)}();"vimeo"==i.type?e="https://player.vimeo.com/video/":"youtube"==i.type&&(e="https://www.youtube.com/embed/"),z.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="autoplay" frameborder="0" src="'+e+i.id+t+'"></iframe>'),p()}function u(){z.html('<div class="vbox-inline">'+x(T).html()+"</div>"),p()}function g(){(Z=z.find("img")).length?Z.each(function(){x(this).one("load",function(){p()})}):p()}function p(){C.html(j),z.find(">:first-child").addClass("vbox-figlio").css({width:P,height:S,padding:A,background:y}),x("img.vbox-figlio").on("dragstart",function(t){t.preventDefault()}),_.scrollTop(0),m(),z.animate({opacity:"1"},"slow",function(){K.hide()}),k.cb_content_loaded(Y,Q,q,H)}function m(){var t=z.outerHeight(),e=x(window).height();N=t+60<e?(e-t)/2:"30px",z.css("margin-top",N),z.css("margin-bottom",N),k.cb_post_resize()}"ontouchstart"in window?(x(document).on("touchstart",t),x(document).on("touchmove",t),x(document).on("touchend",t)):(x(document).on("mousedown",l),x(document).on("mouseup",l),x(document).on("mouseout",l),x(document).on("mousemove",l)),x(window).resize(function(){x(".vbox-content").length&&setTimeout(m(),800)})})}})}(jQuery),$(document).ready(function(){$(".posts-slider").slick({dots:!1,infinite:!0,arrows:!1,slidesToShow:4,slidesToScroll:1,autoplay:!1,lazyLoad:"ondemand",responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,dots:!1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,dots:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]})}),$(document).ready(function(){$(".equipo-slider").slick({centerMode:!0,autoplay:!0,loops:!0,autoplaySpeed:0,speed:1e4,cssEase:"linear",centerPadding:"60px",slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1,responsive:[{breakpoint:1200,settings:{autoplay:!0,loops:!0,autoplaySpeed:0,speed:1e4,cssEase:"linear",centerPadding:"60px",slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1}},{breakpoint:768,settings:{autoplay:!0,loops:!0,autoplaySpeed:0,speed:1e4,cssEase:"linear",centerPadding:"60px",slidesToShow:2,slidesToScroll:1,dots:!1,arrows:!1}},{breakpoint:480,settings:{autoplay:!0,loops:!0,autoplaySpeed:0,speed:1e4,cssEase:"linear",centerPadding:"60px",slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1}}]})}),window.onload=function(){setTimeout(function(){document.getElementById("myIframe").src="https://cdn.lightwidget.com/widgets/1dfeb67866be54fd899630440f559df9.html"},5e3)},function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.lightbox=e(t.jQuery)}(this,function(c){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=c.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Imagen %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){c.extend(this.options,t)},t.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},t.prototype.init=function(){var t=this;c(document).ready(function(){t.enable(),t.build()})},t.prototype.enable=function(){var e=this;c("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(t){return e.start(c(t.currentTarget)),!1})},t.prototype.build=function(){var e;0<c("#lightbox").length||(e=this,c('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Diseño de Interiores"/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(c("body")),this.$lightbox=c("#lightbox"),this.$overlay=c("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(t){"lightbox"===c(t.target).attr("id")&&e.end()}),this.$outerContainer.on("click",function(t){return"lightbox"===c(t.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(e.$nav.css("pointer-events","none"),e.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(e),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1}))},t.prototype.start=function(t){var e=this,i=c(window);i.on("resize",c.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var o=0;function a(t){e.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var s,n=t.attr("data-lightbox");if(n){s=c(t.prop("tagName")+'[data-lightbox="'+n+'"]');for(var r=0;r<s.length;r=++r)a(c(s[r])),s[r]===t[0]&&(o=r)}else if("lightbox"===t.attr("rel"))a(t);else{s=c(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var l=0;l<s.length;l=++l)a(c(s[l])),s[l]===t[0]&&(o=l)}n=i.scrollTop()+this.options.positionFromTop,i=i.scrollLeft();this.$lightbox.css({top:n+"px",left:i+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&c("body").addClass("lb-disable-scrolling"),this.changeImage(o)},t.prototype.changeImage=function(a){var s=this,n=this.album[a].link,r=n.split(".").slice(-1)[0],l=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),c(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var d=new Image;d.onload=function(){var t,e,i,o;l.attr({alt:s.album[a].alt,src:n}),c(d),l.width(d.width),l.height(d.height),o=c(window).width(),i=c(window).height(),o=o-s.containerPadding.left-s.containerPadding.right-s.imageBorderWidth.left-s.imageBorderWidth.right-20,i=i-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-s.options.positionFromTop-70,"svg"===r&&(l.width(o),l.height(i)),s.options.fitImagesInViewport?(s.options.maxWidth&&s.options.maxWidth<o&&(o=s.options.maxWidth),s.options.maxHeight&&s.options.maxHeight<i&&(i=s.options.maxHeight)):(o=s.options.maxWidth||d.width||o,i=s.options.maxHeight||d.height||i),(d.width>o||d.height>i)&&(d.width/o>d.height/i?(e=o,t=parseInt(d.height/(d.width/e),10)):(t=i,e=parseInt(d.width/(d.height/t),10)),l.width(e),l.height(t)),s.sizeContainer(l.width(),l.height())},d.src=this.album[a].link,this.currentImageIndex=a},t.prototype.sizeOverlay=function(){var t=this;setTimeout(function(){t.$overlay.width(c(document).width()).height(c(document).height())},0)},t.prototype.sizeContainer=function(t,e){var i=this,o=this.$outerContainer.outerWidth(),a=this.$outerContainer.outerHeight(),s=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,n=e+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function r(){i.$lightbox.find(".lb-dataContainer").width(s),i.$lightbox.find(".lb-prevLink").height(n),i.$lightbox.find(".lb-nextLink").height(n),i.$overlay.focus(),i.showImage()}o!==s||a!==n?this.$outerContainer.animate({width:s,height:n},this.options.resizeDuration,"swing",function(){r()}):r()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t,e=this;void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(t=this.$lightbox.find(".lb-caption"),this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title),t.fadeIn("fast")),1<this.album.length&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",c.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",c.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},t.prototype.keyboardAction=function(t){var e=t.keyCode;27===e?(t.stopPropagation(),this.end()):37===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):39===e&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),c(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&c("body").removeClass("lb-disable-scrolling")},new t});